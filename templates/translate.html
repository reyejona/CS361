<!DOCTYPE html>
<head>
    <link rel="stylesheet" href="/static/style.css"/>
    <script type="text/javascript">
        var form = document.getElementById("form")
        
    
        function changeText2(){
            console.log("Called Function");
            var language = document.getElementById("language").value;
            console.log(language);
            var textInput = document.getElementById("textInput").value;
            console.log(textInput);
            
            // language.disabled = true;
            // textInput.disabled = true;
            var url= 'http://localhost:3005/translate/' + language + '/' + textInput;
            //window.open(action_src, '_blank');
            console.log(url);
            window.location.href= 'http://localhost:3005/translate/' + language + '/' + textInput;

            var req = new XMLHttpRequest(); 
            req.open( 'GET', "http://localhost:3005/translate/" + language + "/" + textInput, true);
            req.onreadystatechange = function() {
                
                if(req.readyState== XMLHttpRequest.DONE) {
                var status = req.status;
                if (status===0 || status >=200 && status <400) {
                    console.log("request made");
                    console.log(typeof req.response);
                    console.log(req.responseText)
                    let jsonResponse = JSON.parse(req.responseText);
                    // var table = document.getElementById("form");
                    // var res = document.getElementById("p")

                }   else {
                    console.log("Error");
                }
                }
                
            }
            req.send();
            

            // form.action = action_src;
        }
        </script>
</head>
<body>
    {% extends "home.html" %}
    {% block content %}
    <div>
        <form id="form" onsubmit="changeText2()">
            <h3>
                Spanish, French, English, Chinese
                <li>es - Spanish</li>
                <li>fr - French</li>
                <li>en - English</li>
                <li> zh-TW - Chinese</li>
            </h3>
            <div><label>Language: </label><input type="text" id = "language" name="language"></div>
            <div><label>Text:</label> <input type="text" id = "textInput" name="textInput"></div>
            <input type='submit' value='Translate'/>
    
        <p id="response">Results: </p>
    </form>
    </div>
    
    {% endblock %}



</body>



 

